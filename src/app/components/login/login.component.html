<section class="bg-main-light shadow p-3 my-4 rounded-4">
  <form [formGroup]="loginForm" (ngSubmit)="submitLoginForm()">
    <h1 class="h2 text-main mb-3">{{ 'LOGIN.TITLE' | translate }}</h1>

    @if(messageErorr){
    <div class="alert alert-danger">{{ messageErorr }}</div>
    }

    <div class="my-2">
      <label for="email">{{ 'LOGIN.EMAIL' | translate }}</label>
      <input formControlName="email" id="email" class="form-control"
        type="email">

      @if(loginForm.get("email")?.errors && (loginForm.get("email")?.touched ||
      loginForm.get("email")?.dirty)) {
      <div class="ps-2">
        @if(loginForm.get("email")?.getError("required") &&
        loginForm.get("email")?.touched) {
        <p class="text-danger">- {{ 'LOGIN.EMAIL_REQUIRED' | translate }}</p>
        } @else if (loginForm.get("email")?.getError("email")) {
        <p class="text-danger">- {{ 'LOGIN.EMAIL_INVALID' | translate }}</p>
        }
      </div>
      }
    </div>

    <div class="my-2">
      <label for="password">{{ 'LOGIN.PASSWORD' | translate }}</label>
      <input formControlName="password" id="password" class="form-control"
        type="password">
    </div>

    @if(loginForm.get("password")?.errors && (loginForm.get("password")?.touched
    || loginForm.get("password")?.dirty)) {
    <div class="ps-2">
      @if(loginForm.get("password")?.getError("required")) {
      <p class="text-danger">- {{ 'LOGIN.PASSWORD_REQUIRED' | translate }}</p>
      } @else if (loginForm.get("password")?.getError("pattern")) {
      <p class="text-danger">- {{ 'LOGIN.PASSWORD_PATTERN' | translate }}</p>
      }
    </div>
    }

    <div class="d-flex justify-content-end align-items-center g-4">
      <a class="link-info cr" routerLink="/forgetPass">{{
        'LOGIN.FORGET_PASSWORD' | translate }}</a>
      <button type="submit" class="btn-main d-block ms-auto">
        {{ 'LOGIN.BUTTON' | translate }}
        @if (isLoading) {
        <span class="fas fa-spin fa-spinner"></span>
        }
      </button>
    </div>
  </form>
</section>
