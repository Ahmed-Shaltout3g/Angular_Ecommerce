import{a as w}from"./chunk-SKN7AQPH.js";import{a as N,b as g,c as P,d as b,f as B,g as y,h as D,i as M,k as L}from"./chunk-HVDZ737I.js";import{c as A,d as G}from"./chunk-ZSNUJC6Q.js";import{h}from"./chunk-NSWKUIGL.js";import"./chunk-2OV63D57.js";import"./chunk-5X2HJEGI.js";import{$a as I,Bb as F,Cb as v,Jb as a,Kb as _,Lb as s,Ra as i,Wb as m,Xb as p,_ as x,eb as d,kb as T,ob as u,sb as l,tb as n,ub as R}from"./chunk-ZU635JQC.js";function O(e,o){if(e&1&&(l(0,"div",3),a(1),n()),e&2){let r=v();i(),_(r.messageErorr)}}function U(e,o){e&1&&(l(0,"p",14),a(1),m(2,"translate"),n()),e&2&&(i(),s("- ",p(2,1,"REGISTER.USERNAME_REQUIRED"),""))}function H(e,o){e&1&&(l(0,"p",14),a(1),m(2,"translate"),n()),e&2&&(i(),s("- ",p(2,1,"REGISTER.USERNAME_MIN"),""))}function W(e,o){e&1&&(l(0,"p",14),a(1),m(2,"translate"),n()),e&2&&(i(),s("- ",p(2,1,"REGISTER.USERNAME_MAX"),""))}function Q(e,o){if(e&1&&(l(0,"div",7),d(1,U,3,3,"p",14)(2,H,3,3,"p",14)(3,W,3,3,"p",14),n()),e&2){let r,t=v();i(),u((r=t.registerForm.get("name"))!=null&&r.getError("required")?1:(r=t.registerForm.get("name"))!=null&&r.getError("minLength")?2:(r=t.registerForm.get("name"))!=null&&r.getError("maxLength")?3:-1)}}function V(e,o){e&1&&(l(0,"p",14),a(1),m(2,"translate"),n()),e&2&&(i(),s("- ",p(2,1,"REGISTER.EMAIL_REQUIRED"),""))}function k(e,o){e&1&&(l(0,"p",14),a(1),m(2,"translate"),n()),e&2&&(i(),s("- ",p(2,1,"REGISTER.EMAIL_INVALID"),""))}function $(e,o){if(e&1&&(l(0,"div",7),d(1,V,3,3,"p",14)(2,k,3,3,"p",14),n()),e&2){let r,t=v();i(),u((r=t.registerForm.get("email"))!=null&&r.getError("required")?1:(r=t.registerForm.get("email"))!=null&&r.getError("email")?2:-1)}}function j(e,o){e&1&&(l(0,"p",14),a(1),m(2,"translate"),n()),e&2&&(i(),s("- ",p(2,1,"REGISTER.PASSWORD_REQUIRED"),""))}function X(e,o){e&1&&(l(0,"p",14),a(1),m(2,"translate"),n()),e&2&&(i(),s("- ",p(2,1,"REGISTER.PASSWORD_PATTERN"),""))}function z(e,o){if(e&1&&(l(0,"div",7),d(1,j,3,3,"p",14)(2,X,3,3,"p",14),n()),e&2){let r,t=v();i(),u((r=t.registerForm.get("password"))!=null&&r.getError("required")?1:(r=t.registerForm.get("password"))!=null&&r.getError("pattern")?2:-1)}}function J(e,o){e&1&&(l(0,"p",14),a(1),m(2,"translate"),n()),e&2&&(i(),s("- ",p(2,1,"REGISTER.REPASSWORD_REQUIRED"),""))}function K(e,o){e&1&&(l(0,"p",14),a(1),m(2,"translate"),n()),e&2&&(i(),s("- ",p(2,1,"REGISTER.REPASSWORD_MATCH"),""))}function Y(e,o){e&1&&(l(0,"p",14),a(1),m(2,"translate"),n()),e&2&&(i(),s("- ",p(2,1,"REGISTER.PHONE_REQUIRED"),""))}function Z(e,o){e&1&&(l(0,"p",14),a(1),m(2,"translate"),n()),e&2&&(i(),s("- ",p(2,1,"REGISTER.PHONE_INVALID"),""))}function ee(e,o){if(e&1&&(l(0,"div",7),d(1,Y,3,3,"p",14)(2,Z,3,3,"p",14),n()),e&2){let r,t=v();i(),u((r=t.registerForm.get("phone"))!=null&&r.getError("required")?1:(r=t.registerForm.get("phone"))!=null&&r.getError("pattern")?2:-1)}}function te(e,o){e&1&&R(0,"span",18)}var q=class e{messageErorr="";isLoading=!1;_AuthService=x(w);_FormBuilder=x(M);_Router=x(h);registerForm=this._FormBuilder.group({name:[null,[g.required,g.minLength(3),g.max(30)]],email:[null,[g.required,g.email]],password:[null,[g.required,g.pattern(/^\w{8,}$/)]],rePassword:[null,[g.required]],phone:[null,[g.required,g.pattern(/^01[0125][0-9]{8}$/)]]},{validators:this.confirmPassword});confirmPassword(o){return o.get("password")?.value==o.get("rePassword")?.value?null:{missMatch:!0}}submitRegisterForm(){this.isLoading=!0,this.registerForm.valid?this._AuthService.setRegisterForm(this.registerForm.value).subscribe({next:o=>{console.log(o),this.isLoading=!1,o.message=="success"&&this._Router.navigate(["/login"])},error:o=>{this.messageErorr=o.error.message,this.isLoading=!1}}):(this.isLoading=!1,this.registerForm.markAllAsTouched())}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=I({type:e,selectors:[["app-register"]],decls:42,vars:29,consts:[[1,"bg-main-light","shadow","p-3","my-4","rounded-4"],[3,"ngSubmit","formGroup"],[1,"h2","text-main","mb-3"],[1,"alert","alert-danger"],[1,"my-2"],["for","name"],["formControlName","name","id","name","type","text",1,"form-control"],[1,"ps-2"],["for","email"],["formControlName","email","id","email","type","email",1,"form-control"],["for","password"],["formControlName","password","id","password","type","password",1,"form-control"],["for","rePassword"],["formControlName","rePassword","id","rePassword","type","password",1,"form-control"],[1,"text-danger"],["for","phone"],["formControlName","phone","id","phone","type","tel",1,"form-control"],["type","submit",1,"btn-main","d-block","ms-auto"],[1,"fas","fa-spin","fa-spinner"]],template:function(r,t){if(r&1&&(l(0,"section",0)(1,"form",1),F("ngSubmit",function(){return t.submitRegisterForm()}),l(2,"h1",2),a(3),m(4,"translate"),n(),d(5,O,2,1,"div",3),l(6,"div",4)(7,"label",5),a(8),m(9,"translate"),n(),R(10,"input",6),n(),d(11,Q,4,1,"div",7),l(12,"div",4)(13,"label",8),a(14),m(15,"translate"),n(),R(16,"input",9),d(17,$,3,1,"div",7),n(),l(18,"div",4)(19,"label",10),a(20),m(21,"translate"),n(),R(22,"input",11),n(),d(23,z,3,1,"div",7),l(24,"div",4)(25,"label",12),a(26),m(27,"translate"),n(),R(28,"input",13),n(),l(29,"div",7),d(30,J,3,3,"p",14)(31,K,3,3,"p",14),n(),l(32,"div",4)(33,"label",15),a(34),m(35,"translate"),n(),R(36,"input",16),n(),d(37,ee,3,1,"div",7),l(38,"button",17),a(39),m(40,"translate"),d(41,te,1,0,"span",18),n()()()),r&2){let E,f,C,c,S;i(),T("formGroup",t.registerForm),i(2),_(p(4,15,"REGISTER.TITLE")),i(2),u(t.messageErorr?5:-1),i(3),_(p(9,17,"REGISTER.USERNAME")),i(3),u((E=t.registerForm.get("name"))!=null&&E.errors&&((E=t.registerForm.get("name"))!=null&&E.touched||(E=t.registerForm.get("name"))!=null&&E.dirty)?11:-1),i(3),_(p(15,19,"REGISTER.EMAIL")),i(3),u((f=t.registerForm.get("email"))!=null&&f.errors&&((f=t.registerForm.get("email"))!=null&&f.touched||(f=t.registerForm.get("email"))!=null&&f.dirty)?17:-1),i(3),_(p(21,21,"REGISTER.PASSWORD")),i(3),u((C=t.registerForm.get("password"))!=null&&C.errors&&((C=t.registerForm.get("password"))!=null&&C.touched||(C=t.registerForm.get("password"))!=null&&C.dirty)?23:-1),i(3),_(p(27,23,"REGISTER.REPASSWORD")),i(4),u((c=t.registerForm.get("rePassword"))!=null&&c.getError("required")&&((c=t.registerForm.get("rePassword"))!=null&&c.touched||(c=t.registerForm.get("rePassword"))!=null&&c.dirty)?30:t.registerForm.getError("missMatch")&&((c=t.registerForm.get("rePassword"))!=null&&c.touched||(c=t.registerForm.get("rePassword"))!=null&&c.dirty)?31:-1),i(4),_(p(35,25,"REGISTER.PHONE")),i(3),u((S=t.registerForm.get("phone"))!=null&&S.errors&&((S=t.registerForm.get("phone"))!=null&&S.touched||(S=t.registerForm.get("phone"))!=null&&S.dirty)?37:-1),i(2),s(" ",p(40,27,"REGISTER.BUTTON")," "),i(2),u(t.isLoading?41:-1)}},dependencies:[L,B,N,P,b,y,D,G,A],encapsulation:2})};export{q as RegisterComponent};
