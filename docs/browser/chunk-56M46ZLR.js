import{a as V,c as B,e as j,j as Y}from"./chunk-HVDZ737I.js";import{a as A}from"./chunk-CXQEVBNS.js";import{a as W}from"./chunk-3FPDRB5I.js";import{a as N,m as D}from"./chunk-CKPWLBRE.js";import{i as L}from"./chunk-NSWKUIGL.js";import"./chunk-2OV63D57.js";import"./chunk-5X2HJEGI.js";import{$a as h,Bb as T,Cb as M,Jb as c,Kb as d,Lb as I,Nb as E,Oa as P,Ob as k,Pb as F,Ra as n,Sb as O,Wb as f,Yb as g,_ as m,cb as b,fa as _,ga as C,kb as u,qb as y,ra as S,rb as x,sb as i,tb as o,ub as p,xb as w}from"./chunk-ZU635JQC.js";var l=class r{transform(t,e){return t.filter(a=>a.title.toLowerCase().includes(e.toLowerCase()))}static \u0275fac=function(e){return new(e||r)};static \u0275pipe=b({name:"search",type:r,pure:!0})};var R=r=>["/details",r],U=(r,t)=>t._id;function $(r,t){if(r&1){let e=w();i(0,"div",3)(1,"div",4)(2,"div",5),p(3,"img",6),i(4,"h3",7),c(5),o(),i(6,"h3",8),c(7),f(8,"term"),o(),i(9,"div",9)(10,"span"),c(11),o(),i(12,"div")(13,"span"),p(14,"i",10),o(),i(15,"span",11),c(16),o()()()(),i(17,"button",12),T("click",function(){let v=_(e).$implicit,s=M();return C(s.addToCart(v._id))}),c(18,"Add To Cart "),p(19,"i",13),o()()()}if(r&2){let e=t.$implicit;n(2),u("routerLink",O(10,R,e._id)),n(),u("src",e.imageCover,P)("alt",e.title),n(2),d(e.category.name),n(2),d(g(8,7,e.title,2)),n(4),I("",e.price," EGP"),n(5),d(e.ratingsAverage)}}var z=class r{_ProductsService=m(W);_CartService=m(N);_ToastrService=m(D);products=S([]);term="";ngOnInit(){this._ProductsService.getAllProducts().subscribe({next:t=>{this.products.set(t.data)}})}addToCart(t){this._CartService.addProductToCart(t).subscribe({next:e=>{this._ToastrService.success(e.message,"Fresh Cart"),this._CartService.cartNumber.set(e.numOfCartItems)}})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=h({type:r,selectors:[["app-product"]],decls:7,vars:4,consts:[[1,"input-group","mb-3","w-50","mx-auto","mt-3"],["type","text","placeholder","Search...","aria-label","Search","aria-describedby","button-search",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","g-3"],[1,"col-md-2"],[1,"product","p-2"],[1,"cr",3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"small","text-main"],[1,"h5"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fas","fa-star","rating-color"],[1,"text-muted"],[1,"btn-main","w-100","addcartbutton",3,"click"],[1,"fa-solid","fa-cart-shopping"]],template:function(e,a){e&1&&(i(0,"section")(1,"div",0)(2,"input",1),F("ngModelChange",function(s){return k(a.term,s)||(a.term=s),s}),o()(),i(3,"div",2),y(4,$,20,12,"div",3,U),f(6,"search"),o()()),e&2&&(n(2),E("ngModel",a.term),n(2),x(g(6,1,a.products(),a.term)))},dependencies:[A,L,l,Y,V,B,j],styles:[".addcartbutton[_ngcontent-%COMP%]{transform:translateY(120%);transition:transform .7s}.product[_ngcontent-%COMP%]:hover   .addcartbutton[_ngcontent-%COMP%]{transform:translateY(0)}"]})};export{z as ProductComponent};
